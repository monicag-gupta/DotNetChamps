Ques 1:

Write a program in C# with SQL Server as the database server to Add User Details
Rithya is working in a Bank. The school students are opening their accounts in bulk. But an issue arises when one of the student detail is not registered properly. So she needs to write a program to insert user and get updates immediately. Finally display all user details.

Write a program to register the user with immediate updates then display all the registered users.

[Note :  Strictly adhere to the object-oriented specifications given as a part of the problem statement.
Follow the naming conventions as mentioned. Create separate classes in separate files.]

Consider the class User with the following private attributes

Data Type	Attributes
string	_name
string	_username
string	_password
string	_contactNumber
The methods for getters, setters and constructors are given in the template code.

Consider the class UserBO and define the following methods
Method Name	Description
List<User> GetUserList()	In this method, call the GetUserList() method in UserDAO and return the user list.
int InsertUser(User user)	In this method, call the InsertUser() method in UserDAO to insert user and return the integer value indicating the status of insert.

Consider the class UserDAO and define the following methods

Method Name	Description
List<User> GetUserList()	This method is used to fetch all the details of Users from user table and return the Users details in a list.
int InsertUser(User user)	In this method, insert the user object to person table in database and return the insert status as integer value.
 

Consider the class DBConnection and define the following method.

Method Name	Description
public static SqlConnection GetConnection()	This method is used to connect the Csharp application with mssql database.
Configure the database properties (fetch from mssql.xml) and return the connection object.
 

Consider the class Program. It includes the method Main.
In the Main method,

read the user details from the user, insert the user into database using InsertUser method in UserBO class and display the list of inserted user from GetUserList method in UserBO class. Display ‚ÄúRecord Inserted Successfully‚Äù after every successful insertion of user record.

The link to download the template code is given below
Code Template

To view the table data and the table structure, use script.sql given in the template code.

Table properties:
CREATE TABLE person(
name VARCHAR(255) NOT NULL,
username VARCHAR(255) NOT NULL,
password VARCHAR(255) NOT NULL,
contactNumber VARCHAR(10) NOT NULL
);

Use mssql.xml code to establish DB connection.
<?xml version="1.0" encoding="utf-8" ?>
<mssql>
  <username>sa</username>
  <password>password</password>
  <host>localhost</host>
  <port>1433</port>
  <schema>UserManagement</schema>
</mssql>

Input and Output Format :

Display the registered users in insertion order.
Use the below format to display the user details
Console.WriteLine("{0,-15}{1,-15}{2,-15}{3,-15}","Name","Username","Password","ContactNumber");
Refer sample input and output for formatting specifications. 

[All text in bold corresponds to input and the rest corresponds to output.]

Sample Input and Output 1:

Enter total number of users
2
Enter user details
john,john@123,john123,9876543210
Record Inserted Successfully
peter,peter#@!,peter,789451320
Record Inserted Successfully
Name           Username       Password       ContactNumber      
john           john@123       john123        9876543210     
peter          peter#@!       peter          789451320   


Sample Input and Output 2:

Enter total number of users
3
Enter user details
ajay,ajay1997,ajay123,8527419630
Record Inserted Successfully
arun,arunkumar,arunkumar,7418529630
Record Inserted Successfully
victor,victor,valdes,7894561230
Record Inserted Successfully
Name           Username       Password       ContactNumber      
john           john@123       john123        9876543210     
peter          peter#@!       peter          789451320      
ajay           ajay1997       ajay123        8527419630     
arun           arunkumar      arunkumar      7418529630     
victor         victor         valdes         7894561230  

I have the code with me:
using System;
using System.Collections.Generic;
class User
{
    private string _name;
    private string _username;
    private string _password;
    private string _contactNumber;
    
    public User(){}
    
    public User(string _name, string _username, string _password, string _contactNumber)
    {
        this._name = _name;
        this._username = _username;
        this._password = _password;
        this._contactNumber = _contactNumber;
    }
    public string Name
    {
        get{
            return _name;
        }
        set{
            _name = value;
        }
    }
    public string Username
    {
        get{
            return _username;
        }
        set{
            _username = value;
        }
    }
    public string Password
    {
        get{
            return _password;
        }
        set{
            _password = value;
        }
    }
    public string ContactNumber
    {
        get{
            return _contactNumber;
        }
        set{
            _contactNumber = value;
        }
    }
}



using System;
using System.Collections.Generic;
class UserBO
{
    public List<User> GetUserList()
    {
        List<User> users = new List<User>();
        //Fill your code here
        return users;
    }
    public int InsertUser(User user)
    {
        //Fill your code here
        return 0;
    }
}


using System;
using System.Collections.Generic;
using System.Data.SqlClient;
class UserDAO
{
    public List<User> GetUserList()
    {
        List<User> users = new List<User>();
        //Fill your code here
        return users;
    }
    public int InsertUser(User user)
    {
        //Fill your code here
        return 0;
    }
}


using System;
using System.Collections.Generic;
using System.Text;
using System.Data.SqlClient;
using System.Xml;
using System.IO;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        String xmlString = System.IO.File.ReadAllText("mssql.xml");
        SqlConnection conn = null;
        string username;
        string password;
        string schema;
        string host;

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();
            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();
            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();
            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }
        
        //Fill your code here
        return conn;

    }
}



mssql.xml:
<?xml version="1.0" encoding="utf-8" ?>
<mssql>
  <username>sa</username>
  <password>password</password>
  <host>localhost</host>
  <port>1433</port>
  <schema>UserManagement</schema>
</mssql>


Program.cs
using System;
using System.Collections.Generic;
class Program
{
    public static void Main(string[] args)
    {
        Console.WriteLine("Enter total number of users");
        Console.WriteLine("Enter user details");
        Console.WriteLine("{0,-15}{1,-15}{2,-15}{3,-15}","Name","Username","Password","ContactNumber");
        //Fill your code here
    }
}

script.sql
if exists (SELECT * FROM sysobjects WHERE name = 'person') DROP TABLE person;
CREATE TABLE person(
    name VARCHAR(255) NOT NULL,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    contactNumber VARCHAR(10) NOT NULL 
);

Now finish the codes

Got it üëç You already have the skeleton ‚Äî we just need to complete each class strictly following the OOP structure and make sure it works end-to-end with SQL Server.

Below is the fully finished solution, class by class, exactly as expected for this kind of evaluation problem.

‚úÖ User.cs (No change ‚Äì already correct)
using System;
using System.Collections.Generic;

class User
{
    private string _name;
    private string _username;
    private string _password;
    private string _contactNumber;

    public User() { }

    public User(string _name, string _username, string _password, string _contactNumber)
    {
        this._name = _name;
        this._username = _username;
        this._password = _password;
        this._contactNumber = _contactNumber;
    }

    public string Name
    {
        get { return _name; }
        set { _name = value; }
    }

    public string Username
    {
        get { return _username; }
        set { _username = value; }
    }

    public string Password
    {
        get { return _password; }
        set { _password = value; }
    }

    public string ContactNumber
    {
        get { return _contactNumber; }
        set { _contactNumber = value; }
    }
}

‚úÖ UserBO.cs (Business Layer)
using System;
using System.Collections.Generic;

class UserBO
{
    public List<User> GetUserList()
    {
        UserDAO dao = new UserDAO();
        return dao.GetUserList();
    }

    public int InsertUser(User user)
    {
        UserDAO dao = new UserDAO();
        return dao.InsertUser(user);
    }
}

‚úÖ UserDAO.cs (Database Access Layer)
using System;
using System.Collections.Generic;
using System.Data.SqlClient;

class UserDAO
{
    public List<User> GetUserList()
    {
        List<User> users = new List<User>();
        SqlConnection conn = DBConnection.GetConnection();

        string query = "SELECT name, username, password, contactNumber FROM person";
        SqlCommand cmd = new SqlCommand(query, conn);

        conn.Open();
        SqlDataReader reader = cmd.ExecuteReader();

        while (reader.Read())
        {
            User user = new User();
            user.Name = reader["name"].ToString();
            user.Username = reader["username"].ToString();
            user.Password = reader["password"].ToString();
            user.ContactNumber = reader["contactNumber"].ToString();
            users.Add(user);
        }

        reader.Close();
        conn.Close();

        return users;
    }

    public int InsertUser(User user)
    {
        SqlConnection conn = DBConnection.GetConnection();

        string query = "INSERT INTO person VALUES (@name, @username, @password, @contactNumber)";
        SqlCommand cmd = new SqlCommand(query, conn);

        cmd.Parameters.AddWithValue("@name", user.Name);
        cmd.Parameters.AddWithValue("@username", user.Username);
        cmd.Parameters.AddWithValue("@password", user.Password);
        cmd.Parameters.AddWithValue("@contactNumber", user.ContactNumber);

        conn.Open();
        int rows = cmd.ExecuteNonQuery();
        conn.Close();

        return rows;
    }
}

‚úÖ DBConnection.cs (SQL Server Connection)
using System;
using System.Data.SqlClient;
using System.Xml;
using System.IO;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        string xmlString = File.ReadAllText("mssql.xml");

        string username = "";
        string password = "";
        string host = "";
        string schema = "";

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();

            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();

            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();

            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        string connectionString =
            "Data Source=" + host +
            ";Initial Catalog=" + schema +
            ";User ID=" + username +
            ";Password=" + password;

        return new SqlConnection(connectionString);
    }
}

‚úÖ Program.cs (Main Class)
using System;
using System.Collections.Generic;

class Program
{
    public static void Main(string[] args)
    {
        UserBO userBO = new UserBO();

        Console.WriteLine("Enter total number of users");
        int n = int.Parse(Console.ReadLine());

        Console.WriteLine("Enter user details");

        for (int i = 0; i < n; i++)
        {
            string input = Console.ReadLine();
            string[] data = input.Split(',');

            User user = new User(
                data[0],
                data[1],
                data[2],
                data[3]
            );

            int result = userBO.InsertUser(user);
            if (result > 0)
            {
                Console.WriteLine("Record Inserted Successfully");
            }
        }

        List<User> users = userBO.GetUserList();

        Console.WriteLine("{0,-15}{1,-15}{2,-15}{3,-15}",
            "Name", "Username", "Password", "ContactNumber");

        foreach (User u in users)
        {
            Console.WriteLine("{0,-15}{1,-15}{2,-15}{3,-15}",
                u.Name, u.Username, u.Password, u.ContactNumber);
        }
    }
}

‚úÖ script.sql (No change)
if exists (SELECT * FROM sysobjects WHERE name = 'person') DROP TABLE person;

CREATE TABLE person(
    name VARCHAR(255) NOT NULL,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    contactNumber VARCHAR(10) NOT NULL
);

üéØ What this solution guarantees

‚úî Strict OOP separation (Model / BO / DAO / Utility / Main)
‚úî Immediate insert feedback
‚úî Displays all users including previous records
‚úî Matches sample input/output formatting
‚úî Works with mssql.xml exactly as required






Ques 2:

Write a program in C# with SQL Server as the database server to Update Person
The ABC company employees mostly change their mobile numbers. So the company need application to update the mobile numbers of person. Write an application to update the mobile number if person exist in company.

 

[Note :Strictly adhere to the object oriented specifications given as a part of the problem statement. Follow the naming conventions as mentioned. Create separate classes in separate files.]

Create class Person with the following private variables/attributes.

Data Type	Variable
string	_name
string	_mobileNumber
string	_username
string	_password

Include appropriate properties.
Include a default constructor and a four argument constructor with parameters in the following order
        _name, _mobileNumber, _username, _password.

Create class PersonBO with the following method
Method	Description
bool UpdatePerson(string _name, string _mobileNumber)	This method is used to invoke the method UpdatePerson() in the PersonDAO class.

Create class PersonDAO with the following
Method	Description
bool UpdatePerson(string _name, string _mobileNumber)	In this method, if the given person's name exits, the mobile number of the paticular person will be updated and return true on successful updation, else return false.


Create Program class with Main method, get the person's name and the mobile number to be updated.
Update the new mobile number if the Person's detail exits and display "Update successfully" on successful updation, else display "Person not found".

To view the table data and the table structure, use script.sql given in the template code.
Use the mssq.xml code to establish the DB connection to the C# application.
mssql.xml
<?xml version="1.0" encoding="utf-8" ?>
<mssql>
    <username>sa</username>
    <password>password</password>
    <host>localhost</host>
    <port>1433</port>
    <schema>EventManagement</schema>
</mssql>

Input and Output Format:
Refer sample input and output for formatting specifications.
All text in bold corresponds to input and the rest corresponds to output.

Sample Input and Output 1 :
Enter the name
Albert
Enter the mobile number
8675421392
Update successfully

Sample Input and Output 2 :
Enter the name
Charles
Enter the mobile number
7589641235
Person not found

I have the classes as:

using System;

class PersonBO
{
	public bool UpdatePerson(string _name, string _mobileNumber)
    {
        //fill code here
    }
}

script.sql

if exists (SELECT * FROM sysobjects WHERE name = 'person') DROP TABLE person;

CREATE TABLE person
(
     id  INT NOT NULL PRIMARY KEY , 
     name  VARCHAR(255) NOT NULL, 
     mobile_number  VARCHAR(255) NULL, 
     username  VARCHAR(255) NOT NULL, 
     password  VARCHAR(255) NOT NULL
);

INSERT INTO person VALUES(1, 'Daniel', '987456132', 'daniel', 'daniel123');
INSERT INTO person VALUES(2, 'Cassandra', '987456132', 'cassandra', 'cassandra123');
INSERT INTO person VALUES(3, 'Albert', '987456132', 'albert', 'albert123');
INSERT INTO person VALUES(4, 'Abraham', '987456132', 'abraham', 'abraham123');
INSERT INTO person VALUES(5, 'Alex', '987456132', 'alex', 'alex123');
INSERT INTO person VALUES(6, 'Elana', '987456132', 'elana', 'elana123');
INSERT INTO person VALUES(7, 'Merida', '987456132', 'merida', 'merida123');
INSERT INTO person VALUES(8, 'Henry', '987456132', 'henry', 'henry123');
INSERT INTO person VALUES(9, 'Elsa', '987456132', 'elsa', 'elsa123');
INSERT INTO person VALUES(10, 'Anastasia', '987456132', 'anastasia', 'anastasia123');

using System;
using System.Data.SqlClient;
class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Enter the name");
        //fill code here
        Console.WriteLine("Enter the mobile number");
        //fill code here;
    }

}

using System;
using System.Data.SqlClient;

class PersonDAO
{
    public bool UpdatePerson(string _name, string _mobileNumber)
    {
        //fill code here
    }
}


mssql.xml:

<?xml version="1.0" encoding="utf-8" ?>
<mssql>
    <username>sa</username>
    <password>password</password>
    <host>localhost</host>
    <port>1433</port>
    <schema>EventManagement</schema>
</mssql>


using System;

class Person
{
    private string _name;
    private string _mobileNumber;
    private string _username;
    private string _password;

    public string MobileNumber
    {
        get { return this._mobileNumber; }

        set { this._mobileNumber = value; }
    }
    public string Name
    {
        get { return this._name; }

        set { this._name = value; }
    }

    public string Username
    {
        get { return this._username; }

        set { this._username = value; }
    }
    public string Password
    {
        get { return this._password; }

        set { this._password = value; }
    }

    public Person() { }

    public Person(string _name, string _mobileNumber, string _username, string _password)
    {
        this._name = _name;
        this._mobileNumber = _mobileNumber;
        this._username = _username;
        this._password = _password;
    }
}


using System;
using System.Data.SqlClient;
using System.Xml;
using System.IO;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        String xmlString = System.IO.File.ReadAllText("mssql.xml");

        string username;
        string password;
        string schema;
        string host;

        //fill code here
    }
}

Now finish the codes

Alright üëç let‚Äôs finish this cleanly and correctly, strictly following the OOP structure and naming rules you were given.
I‚Äôll only fill the missing parts, not redesign anything.

‚úÖ PersonBO.cs
using System;

class PersonBO
{
    public bool UpdatePerson(string _name, string _mobileNumber)
    {
        PersonDAO dao = new PersonDAO();
        return dao.UpdatePerson(_name, _mobileNumber);
    }
}

‚úÖ PersonDAO.cs
using System;
using System.Data.SqlClient;

class PersonDAO
{
    public bool UpdatePerson(string _name, string _mobileNumber)
    {
        SqlConnection conn = DBConnection.GetConnection();

        string query =
            "UPDATE person SET mobile_number = @mobile WHERE name = @name";

        SqlCommand cmd = new SqlCommand(query, conn);
        cmd.Parameters.AddWithValue("@mobile", _mobileNumber);
        cmd.Parameters.AddWithValue("@name", _name);

        conn.Open();
        int rows = cmd.ExecuteNonQuery();
        conn.Close();

        if (rows > 0)
            return true;
        else
            return false;
    }
}


‚úî If the name exists ‚Üí rows affected > 0 ‚Üí true
‚úî If not found ‚Üí rows = 0 ‚Üí false

‚úÖ DBConnection.cs
using System;
using System.Data.SqlClient;
using System.Xml;
using System.IO;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        string xmlString = File.ReadAllText("mssql.xml");

        string username = "";
        string password = "";
        string host = "";
        string schema = "";

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();

            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();

            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();

            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        string connectionString =
            "Data Source=" + host +
            ";Initial Catalog=" + schema +
            ";User ID=" + username +
            ";Password=" + password;

        return new SqlConnection(connectionString);
    }
}

‚úÖ Program.cs
using System;

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Enter the name");
        string name = Console.ReadLine();

        Console.WriteLine("Enter the mobile number");
        string mobile = Console.ReadLine();

        PersonBO bo = new PersonBO();
        bool result = bo.UpdatePerson(name, mobile);

        if (result)
            Console.WriteLine("Update successfully");
        else
            Console.WriteLine("Person not found");
    }
}

‚úÖ Person.cs (Already correct ‚Äì no changes)

Your Person class is perfectly implemented and needs no modification.

üéØ Final Behavior
‚úî Sample Input 1
Enter the name
Albert
Enter the mobile number
8675421392
Update successfully

‚úî Sample Input 2
Enter the name
Charles
Enter the mobile number
7589641235
Person not found

üß† Key Points (Exam / Interview Ready)

DAO handles SQL only

BO acts as business mediator

DBConnection reads from mssql.xml

ExecuteNonQuery() decides success/failure

Clean separation of concerns ‚úî








Ques 3:

Write a program in C# with SQL Server as the database server to Search and Delete Item Type
Write a program to search and delete item type details from database using ADO.Net

Create class ItemType with following private attributes/variables
Data Type	Variable Name
string	_name
float	_deposit
float	_costPerDay
Include appropriate Properties.
Include default and parameterized constructor with parameters in the following order.
public ItemType(string _name, double _deposit, double _costPerDay)

 

Create class ItemTypeBO with the following method

Method Name	Method Description
List<ItemType> GetAllItemType()	This method is used to invoke the method GetAllItemType() in ItemTypeDAO class, and returns list of item types.
bool DeleteItemType(string name)	This method is used to invoke the method DeleteItemType(string name) in ItemTypeDAO class, and returns the status of deletion.
ItemType GetItemTypeByName(string name)	This method is used to invoke the method GetItemTypeByName(string name) in the ItemTypeDAO class and return the itemType object.

Create class ItemTypeDAO with below methods to handle all database related operations

Method Name	Method Description
List<ItemType> GetAllItemType()	This method is used to fetch all ItemType details from item_type table
bool DeleteItemType(string name)	In this method, if the name of the item exits, the item type will be deleted and returns true else return false.
ItemType GetItemTypeByName(string name)	In this method, retrieved itemType details based on the name and return the itemType object. If item type is not available return null.

Create class DBConnection with the following method.

Method	Description
public static SqlConnection
GetConnection()	This method is used to connect the C# application with mssql database. Configure the database properties(fetch from mssql.xml) and return the connection object.

Create Program class with Main method, get Item type name from user.
If no ItemType is found,display ‚ÄúInvalid input‚Äù
If it is found then delete the item type and display item type list.

Note:
Print all the Item type details in the following format.
String.Format("{0,-5}{1,-15} {2,-15} {3}", "Id", "Name", "Deposit", "CostPerDay")

To view the table data and the table structure, use script.sql given in the template code.
Use mssql.xml code to establish DB connection.
mssql.xml
<?xml version="1.0" encoding="utf-8" ?>
<mssql>
    <username>sa</username>
    <password>password</password>
    <host>localhost</host>
    <port>1433</port>
    <schema>DeleteItemType</schema>
</mssql>

Input and Output Format:
Refer sample input and output for formatting specifications. 
All text in bold corresponds to input and the rest corresponds to output.

Sample Input And Output 1:

Menu
1.Search item type
2.Delete item type
1
Enter the item type name
Decoration
Item type Details
Id: 3
Name: Decoration
Deposit: 20000
Cost per day: 1500


Sample Input And Output 2:
Menu
1.Search item type
2.Delete item type
2
Enter the item type name
Decoration
Deleted successfully
Item type details
Id   Name            Deposit         CostPerDay
1    Interior works  30000           4000
2    Cosmetics       10000           1000
4    Party wears     35000           4500
5    Furnitures      25000           1500

Sample Input And Output 3:
Menu
1.Search item type
2.Delete item type
3
Invalid input

I have the codes as:
using System;

class ItemType
{
    private int _id;
    private string _name;
    private double _deposit;
    private double _costPerDay;
    public ItemType(int _id,string _name, double _deposit, double _costPerDay)
    {
        this._id = _id;
        this._name = _name;
        this._deposit = _deposit;
        this._costPerDay = _costPerDay;
    }
    public int Id
    {
        get
        {
            return _id;
        }
        set
        {
            _id = value;
        }
    }
    public string Name
    {
        get
        {
            return _name;
        }
        set
        {
            _name = value;
        }
    }
    public double Deposit
    {
        get
        {
            return _deposit;
        }
        set
        {
            _deposit = value;
        }
    }
    public double CostPerDay
    {
        get
        {
            return _costPerDay;
        }
        set
        {
            _costPerDay = value;
        }
    }
}


using System;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
		Console.WriteLine("Menu");
		Console.WriteLine("1.Search item type");
		Console.WriteLine("2.Delete item type");
		int choice = Convert.ToInt32(Console.ReadLine());
		if(choice == 1) {
			Console.WriteLine("Enter the item type name");
			string searchName = Console.ReadLine();
			Console.WriteLine("Item type Details");
			//Fill your code here
		}
		else if(choice == 2) {
			Console.WriteLine("Enter the item type name");
			string name = Console.ReadLine();
			bool flag;
			//Fill your code here
			if(flag)
			{
				Console.WriteLine("Deleted successfully");
				Console.WriteLine("Item type details");
				Console.WriteLine(String.Format("{0,-5}{1,-15} {2,-15} {3}", "Id", "Name", "Deposit", "CostPerDay"));
				//Fill your code here
			}
        }
		else {
			Console.WriteLine("Invalid input");
		}
    }
}



using System;
using System.Collections.Generic;

class ItemTypeBO
{
    public List<ItemType> GetAllItemType()
    {
        return new ItemTypeDAO().GetAllItemType();
    }

    public bool DeleteItemType(string name)
    {
        return new ItemTypeDAO().DeleteItemType(name);
    }
	
	public ItemType GetItemTypeByName(string name) {
		return new ItemTypeDAO().GetItemTypeByName(name);
	}
}



using System;
using System.Collections.Generic;
using System.Data.SqlClient;
using System.Text;

class ItemTypeDAO
{
    public List<ItemType> GetAllItemType()
    {
        List<ItemType> list = new List<ItemType>();
        //Fill your code here
        return list;
    }

    public bool DeleteItemType(string name)
    {
        //Fill your code here
    }
	
	public ItemType GetItemTypeByName(string name) {
		ItemType itemType = null;
		//Fill your code here
        return itemType;
	}
}


using System;
using System.Collections.Generic;
using System.Text;
using System.IO;
using System.Xml;
using System.Data.SqlClient;
class DBConnection
{
    public static SqlConnection GetConnection()
    {
        String xmlString = System.IO.File.ReadAllText("mssql.xml");

        string username;
        string password;
        string schema;
        string host;

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();
            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();
            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();
            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        //Fill your code here
    }
}




script.sql:

if exists (SELECT * FROM sysobjects WHERE name = 'item_type') DROP TABLE item_type;

CREATE TABLE item_type(
    id INT NOT NULL IDENTITY,
    name VARCHAR (255) NOT NULL,
    deposit decimal(18,0) NOT NULL,
    costPerDay decimal(18,0) NOT NULL
    PRIMARY KEY(id)
);

insert into item_type(name,deposit,costPerDay) values('Interior works',30000,4000);
insert into item_type(name,deposit,costPerDay) values('Cosmetics',10000,1000);
insert into item_type(name,deposit,costPerDay) values('Decoration',20000,1500);
insert into item_type(name,deposit,costPerDay) values('Party wears',35000,4500);
insert into item_type(name,deposit,costPerDay) values('Furnitures', '25000', 1500);




Now finish the codes

Alright üëç let‚Äôs finish this end-to-end, strictly sticking to the given OOP structure, naming, and output format. I‚Äôll only fill the missing parts, not redesign anything.

‚úÖ Program.cs (Main logic completed)
using System;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
        ItemTypeBO bo = new ItemTypeBO();

        Console.WriteLine("Menu");
        Console.WriteLine("1.Search item type");
        Console.WriteLine("2.Delete item type");
        int choice = Convert.ToInt32(Console.ReadLine());

        if (choice == 1)
        {
            Console.WriteLine("Enter the item type name");
            string searchName = Console.ReadLine();

            ItemType item = bo.GetItemTypeByName(searchName);

            if (item == null)
            {
                Console.WriteLine("Invalid input");
            }
            else
            {
                Console.WriteLine("Item type Details");
                Console.WriteLine("Id: " + item.Id);
                Console.WriteLine("Name: " + item.Name);
                Console.WriteLine("Deposit: " + item.Deposit);
                Console.WriteLine("Cost per day: " + item.CostPerDay);
            }
        }
        else if (choice == 2)
        {
            Console.WriteLine("Enter the item type name");
            string name = Console.ReadLine();

            bool flag = bo.DeleteItemType(name);

            if (flag)
            {
                Console.WriteLine("Deleted successfully");
                Console.WriteLine("Item type details");
                Console.WriteLine(String.Format("{0,-5}{1,-15} {2,-15} {3}",
                    "Id", "Name", "Deposit", "CostPerDay"));

                List<ItemType> list = bo.GetAllItemType();
                foreach (ItemType it in list)
                {
                    Console.WriteLine(String.Format("{0,-5}{1,-15} {2,-15} {3}",
                        it.Id, it.Name, it.Deposit, it.CostPerDay));
                }
            }
            else
            {
                Console.WriteLine("Invalid input");
            }
        }
        else
        {
            Console.WriteLine("Invalid input");
        }
    }
}

‚úÖ ItemTypeDAO.cs (Database operations completed)
using System;
using System.Collections.Generic;
using System.Data.SqlClient;

class ItemTypeDAO
{
    public List<ItemType> GetAllItemType()
    {
        List<ItemType> list = new List<ItemType>();
        SqlConnection conn = DBConnection.GetConnection();

        string query = "SELECT id, name, deposit, costPerDay FROM item_type";
        SqlCommand cmd = new SqlCommand(query, conn);

        conn.Open();
        SqlDataReader reader = cmd.ExecuteReader();

        while (reader.Read())
        {
            ItemType item = new ItemType(
                Convert.ToInt32(reader["id"]),
                reader["name"].ToString(),
                Convert.ToDouble(reader["deposit"]),
                Convert.ToDouble(reader["costPerDay"])
            );
            list.Add(item);
        }

        reader.Close();
        conn.Close();

        return list;
    }

    public bool DeleteItemType(string name)
    {
        SqlConnection conn = DBConnection.GetConnection();
        string query = "DELETE FROM item_type WHERE name = @name";

        SqlCommand cmd = new SqlCommand(query, conn);
        cmd.Parameters.AddWithValue("@name", name);

        conn.Open();
        int rows = cmd.ExecuteNonQuery();
        conn.Close();

        return rows > 0;
    }

    public ItemType GetItemTypeByName(string name)
    {
        ItemType itemType = null;
        SqlConnection conn = DBConnection.GetConnection();

        string query =
            "SELECT id, name, deposit, costPerDay FROM item_type WHERE name = @name";

        SqlCommand cmd = new SqlCommand(query, conn);
        cmd.Parameters.AddWithValue("@name", name);

        conn.Open();
        SqlDataReader reader = cmd.ExecuteReader();

        if (reader.Read())
        {
            itemType = new ItemType(
                Convert.ToInt32(reader["id"]),
                reader["name"].ToString(),
                Convert.ToDouble(reader["deposit"]),
                Convert.ToDouble(reader["costPerDay"])
            );
        }

        reader.Close();
        conn.Close();

        return itemType;
    }
}

‚úÖ DBConnection.cs (Completed)
using System;
using System.IO;
using System.Xml;
using System.Data.SqlClient;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        string xmlString = File.ReadAllText("mssql.xml");

        string username = "";
        string password = "";
        string host = "";
        string schema = "";

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();

            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();

            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();

            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        string connectionString =
            "Data Source=" + host +
            ";Initial Catalog=" + schema +
            ";User ID=" + username +
            ";Password=" + password;

        return new SqlConnection(connectionString);
    }
}

‚úÖ ItemType.cs & ItemTypeBO.cs

No changes needed ‚Äî both are already correct üëç

üéØ Final Behavior (Matches Samples)
‚úî Search

Valid name ‚Üí displays full item details

Invalid name ‚Üí Invalid input

‚úî Delete

Valid name ‚Üí deletes + prints updated list

Invalid name ‚Üí Invalid input

‚úî Menu

Any option other than 1 or 2 ‚Üí Invalid input









Ques 4:

Write a program in C# with SQL Server as the database server to Event Details ‚Äì Stored Procedure
Write a program to get and display event details which is stored in the procedure.

[Note :  Strictly adhere to the object-oriented specifications given as a part of the problem statement.
Follow the naming conventions as mentioned. Create separate classes in separate files.]

Consider the class Event with the following private attributes.
Data Type	Attributes
string	_name
string	_type
string	_organizer

The methods for getters, setters and constructors are given in the template code.

Consider the class EventBO and define the following method
Method Name	Description
public List<Event> GetAllEvents()	In this method, call the GetAllEvents() method in EventDAO class and return the list of events.


Consider the class EventDAO and define the following method
Method Name	Description
public List<Event> GetAllEvents()	This method is used to fetch all the details of events from stored procedure name ‚ÄòstpGetAllEvents‚Äô and return the list of events.
The procedure returns the event details in the following order name, type and organizer.

Consider the class DBConnection and define the following method.

Method Name	Description
public static SqlConnection GetConnection()	This method is used to connect the Csharp application with mssql database.
Configure the database properties (fetch from mssql.xml) and return the connection object.


Consider the class Program. It includes the method Main.
In the Main method, get the list of event objects using GetAllEvents method in EventBO class and display all the events in the given format.


The link to download the template code is given below
Code Template

To view the table data and the table structure, use script.sql given in the template code.

Table properties :
create table event (
id int not null,
name varchar(255) not null,
type varchar(255) not null,
start_date date not null,
end_date date not null,
organizer varchar(255) not null
);

Use mssql.xml code to establish DB Connection.
mssql.xml
<?xml version="1.0" encoding="utf-8" ?>
<mssql>
    <username>sa</username>
    <password>password</password>
    <host>localhost</host>
    <port>1433</port>
    <schema>EventManagement</schema>
</mssql>


Input and Output Format:

Display the list of event details in the insertion order.
Use the below format to display event details
String.Format("{0,-25} {1,-15} {2}", "Name", "Type", "Organizer")
Refer sample input and output for formatting specifications.

[All text in bold corresponds to input and the rest corresponds to output.]

Sample Input and Output :
Event details
Name                      Type            Organizer
Magic Show                Stage Show      Cassandra
Sky Lantern Festival      Stage Show      Daniel
Rio Carnival              Exhibition      Albert
Songkran                  Exhibition      Abraham
Cannes film festival      Stage Show      Alex
Glastonbury               Exhibition      Elana
Tomorrowland              Exhibition      Merida
TrickEye                  Exhibition      Henry
Edinburgh fringe festival Stage Show      Elsa
Comic con International   Stage Show      Anastasia


I have the codes as:

using System;
using System.Collections.Generic;
using System.Data.SqlClient;

class EventDAO
{
    public List<Event> GetAllEvents()
    {
        List<Event> events = new List<Event>();
        //Fill your code here
        return events;
    }
}

using System;

class Event
{
    private string _name;
    private string _type;
    private string _organizer;

    public string Name
    {
        get { return this._name; }
        set { this._name = value; }
    }

    public string Type
    {
        get { return this._type; }
        set { this._type = value; }
    }

    public string Organizer
    {
        get { return this._organizer; }
        set { this._organizer = value; }
    }
	
    public Event() { }

    public Event(string _name, string _type, string _organizer)
    {
        this._name = _name;
        this._type = _type;
        this._organizer = _organizer;
    }
}


using System;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Event details");
		Console.WriteLine(String.Format("{0,-25} {1,-15} {3}", "Name", "Type", "Organizer"));
		//Fill your code here
    }
}

using System;
using System.Collections.Generic;

class EventBO
{
    public List<Event> GetAllEvents()
    {
        List<Event> events = new List<Event>();
        //Fill your code here
        return events;
    }
}


using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Data.SqlClient;
using System.Xml;
using System.IO;
class DBConnection
{
    public static SqlConnection GetConnection()
    {
        String xmlString = System.IO.File.ReadAllText("mssql.xml");

        string username;
        string password;
        string schema;
        string host;

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();
            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();
            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();
            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        SqlConnection conn = null;
        //Fill your code here
        return conn;

    }
}




mssql.xml:

<?xml version="1.0" encoding="utf-8" ?>
<mssql>
    <username>sa</username>
    <password>password</password>
    <host>localhost</host>
    <port>1433</port>
    <schema>EventManagement</schema>
</mssql>


script.sql:

if exists (SELECT * FROM sysobjects WHERE name = 'event') DROP TABLE event;

create table event (
    id int not null,
    name varchar(255) not null,
    type varchar(255) not null,
    start_date date not null,
    end_date date not null,
    organizer varchar(255) not null
);

insert into event Values(1, 'Magic Show', 'Stage Show', '2018-02-01', '2018-02-03', 'Cassandra');
insert into event Values(2, 'Sky Lantern Festival', 'Stage Show', '2018-02-01', '2018-02-03', 'Daniel');
insert into event Values(3, 'Rio Carnival', 'Exhibition', '2018-02-01', '2018-02-03', 'Albert');
insert into event Values(4, 'Songkran', 'Exhibition', '2018-02-01', '2018-02-03', 'Abraham');
insert into event Values(5, 'Cannes film festival', 'Stage Show', '2018-02-01', '2018-02-03', 'Alex');
insert into event Values(6, 'Glastonbury', 'Exhibition', '2018-02-01', '2018-02-03', 'Elana');
insert into event Values(7, 'Tomorrowland', 'Exhibition', '2018-02-01', '2018-02-03', 'Merida');
insert into event Values(8, 'TrickEye', 'Exhibition', '2018-02-01', '2018-02-03', 'Henry');
insert into event Values(9, 'Edinburgh fringe festival', 'Stage Show', '2018-02-01', '2018-02-03', 'Elsa');
insert into event Values(10, 'Comic con International', 'Stage Show', '2018-02-01', '2018-02-03', 'Anastasia');
CREATE PROCEDURE stpGetAllEvents
AS  
BEGIN 
    Select name, type, organizer from event
END  



Now finish the codes



Perfect üëç This is a classic ADO.NET + Stored Procedure + OOP problem.
I‚Äôll only complete the missing parts, strictly following the structure and naming you were given.

‚úÖ EventDAO.cs (Stored Procedure call)
using System;
using System.Collections.Generic;
using System.Data.SqlClient;

class EventDAO
{
    public List<Event> GetAllEvents()
    {
        List<Event> events = new List<Event>();

        SqlConnection conn = DBConnection.GetConnection();
        SqlCommand cmd = new SqlCommand("stpGetAllEvents", conn);
        cmd.CommandType = System.Data.CommandType.StoredProcedure;

        conn.Open();
        SqlDataReader reader = cmd.ExecuteReader();

        while (reader.Read())
        {
            Event e = new Event(
                reader[0].ToString(),   // name
                reader[1].ToString(),   // type
                reader[2].ToString()    // organizer
            );
            events.Add(e);
        }

        reader.Close();
        conn.Close();

        return events;
    }
}

‚úÖ EventBO.cs (Business Layer)
using System;
using System.Collections.Generic;

class EventBO
{
    public List<Event> GetAllEvents()
    {
        EventDAO dao = new EventDAO();
        return dao.GetAllEvents();
    }
}

‚úÖ Program.cs (Main logic + display)

‚ö†Ô∏è Note: There is a small typo in your header format string ({3} instead of {2}).
I‚Äôm fixing it so output matches the sample.

using System;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Event details");
        Console.WriteLine(String.Format("{0,-25} {1,-15} {2}",
            "Name", "Type", "Organizer"));

        EventBO bo = new EventBO();
        List<Event> events = bo.GetAllEvents();

        foreach (Event e in events)
        {
            Console.WriteLine(String.Format("{0,-25} {1,-15} {2}",
                e.Name, e.Type, e.Organizer));
        }
    }
}

‚úÖ DBConnection.cs (Completed)
using System;
using System.Data.SqlClient;
using System.Xml;
using System.IO;

class DBConnection
{
    public static SqlConnection GetConnection()
    {
        string xmlString = File.ReadAllText("mssql.xml");

        string username = "";
        string password = "";
        string host = "";
        string schema = "";

        using (XmlReader reader = XmlReader.Create(new StringReader(xmlString)))
        {
            reader.ReadToFollowing("username");
            username = reader.ReadElementContentAsString();

            reader.ReadToFollowing("password");
            password = reader.ReadElementContentAsString();

            reader.ReadToFollowing("host");
            host = reader.ReadElementContentAsString();

            reader.ReadToFollowing("schema");
            schema = reader.ReadElementContentAsString();
        }

        string connectionString =
            "Data Source=" + host +
            ";Initial Catalog=" + schema +
            ";User ID=" + username +
            ";Password=" + password;

        return new SqlConnection(connectionString);
    }
}

‚úÖ Event.cs

No changes needed ‚Äî already correct ‚úîÔ∏è

üéØ Final Output (Matches Sample Exactly)
Event details
Name                      Type            Organizer
Magic Show                Stage Show      Cassandra
Sky Lantern Festival      Stage Show      Daniel
Rio Carnival              Exhibition      Albert
Songkran                  Exhibition      Abraham
Cannes film festival      Stage Show      Alex
Glastonbury               Exhibition      Elana
Tomorrowland              Exhibition      Merida
TrickEye                  Exhibition      Henry
Edinburgh fringe festival Stage Show      Elsa
Comic con International   Stage Show      Anastasia

üß† What this demonstrates (Very exam-friendly)

‚úî Stored procedure execution using SqlCommand

‚úî CommandType.StoredProcedure

‚úî Clean DAO‚ÄìBO‚ÄìModel separation

‚úî XML-based DB configuration

‚úî Proper formatting output








